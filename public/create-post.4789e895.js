function e(e,t,r,o){Object.defineProperty(e,t,{get:r,set:o,enumerable:!0,configurable:!0})}var t=globalThis,r={},o={},n=t.parcelRequire6684;null==n&&((n=function(e){if(e in r)return r[e].exports;if(e in o){var t=o[e];delete o[e];var n={id:e,exports:{}};return r[e]=n,t.call(n.exports,n,n.exports),n.exports}var a=Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){o[e]=t},t.parcelRequire6684=n),(0,n.register)("e1C8v",function(t,r){async function o(e,t={}){try{let r=await fetch("/api"+e,t);if(!r.ok){let e=await r.json();throw Error(e.message||"An unknown error occurred")}if(204===r.status)return null;return r.json()}catch(e){throw console.error("API request error:",e),e}}e(t.exports,"logout",()=>n),e(t.exports,"getPosts",()=>a),e(t.exports,"createPost",()=>s),e(t.exports,"getCategories",()=>i);let n=()=>o("/auth/logout",{method:"POST"}),a=(e=null)=>o(e?`/posts?category=${e}`:"/posts"),s=e=>o("/posts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),i=()=>o("/categories")});var a=n("e1C8v");const s=document.getElementById("post-form"),i=document.getElementById("categories-container"),c=document.getElementById("form-error");async function l(){try{let e=await a.getCategories();i.innerHTML="",e.forEach(e=>{let t=document.createElement("div");t.className="checkbox-item",t.innerHTML=`
        <input type="checkbox" id="category-${e.id}" name="categoryIds" value="${e.id}">
        <label for="category-${e.id}">${e.name}</label>
      `,i.appendChild(t)})}catch(e){i.innerHTML="Could not load categories.",console.error("Failed to load categories",e)}}s.addEventListener("submit",async e=>{e.preventDefault(),c.style.display="none";let t=new FormData(s),r=t.get("title"),o=t.get("content"),n=t.getAll("categoryIds");try{await a.createPost({title:r,content:o,categoryIds:n}),window.location.href="/"}catch(e){c.textContent=e.message,c.style.display="block"}}),document.addEventListener("DOMContentLoaded",()=>{l()});
//# sourceMappingURL=create-post.4789e895.js.map
